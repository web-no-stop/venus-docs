(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{437:function(e,t,s){"use strict";s.r(t);var r=s(17),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"migrating-from-lotus-to-venus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#migrating-from-lotus-to-venus"}},[e._v("#")]),e._v(" Migrating from Lotus to Venus")]),e._v(" "),s("p",[e._v("Lotus users could easily migrate their storage operation to Venus by going through the following steps.")]),e._v(" "),s("h2",{attrs:{id:"introduction-of-venus-cluster-and-lotus-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction-of-venus-cluster-and-lotus-cluster"}},[e._v("#")]),e._v(" Introduction of Venus cluster and lotus cluster")]),e._v(" "),s("p",[e._v("This document is based on the public version of "),s("a",{attrs:{href:"https://github.com/filecoin-project/lotus/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lotus"),s("OutboundLink")],1),e._v(" & "),s("a",{attrs:{href:"https://github.com/filecoin-project/venus/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Venus"),s("OutboundLink")],1),e._v(". Part of the content involves the miners' customization of the program, which requires targeted solutions.")]),e._v(" "),s("p",[e._v("Tips:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("<>")]),e._v("indicates the parameter to be replaced, which is replaced according to the actual situation of the miner")]),e._v(" "),s("li",[e._v("Please use git checkout to select the specific version")]),e._v(" "),s("li",[e._v("environment:\n"),s("ul",[s("li",[e._v("golang ^1.15\n"),s("ul",[s("li",[e._v("go env -w GOPROXY=https://goproxy.io,direct")]),e._v(" "),s("li",[e._v("go env -w GO111MODULE=on")])])]),e._v(" "),s("li",[e._v("git")])])])]),e._v(" "),s("h3",{attrs:{id:"moduler-of-venus-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#moduler-of-venus-cluster"}},[e._v("#")]),e._v(" Moduler of Venus cluster")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Moduler")]),e._v(" "),s("th",[e._v("Server")]),e._v(" "),s("th",[e._v("Type")]),e._v(" "),s("th",[e._v("Do")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("venus-auth")]),e._v(" "),s("td",[e._v("<IP1>")]),e._v(" "),s("td",[e._v("Shared")]),e._v(" "),s("td",[e._v("Venus auth is used for unified authorization. When a miner's own running component accesses a shared component, it needs to use this service to register the generated token")])]),e._v(" "),s("tr",[s("td",[e._v("venus-wallet")]),e._v(" "),s("td",[e._v("<IP2>")]),e._v(" "),s("td",[e._v("Shared")]),e._v(" "),s("td",[e._v("Manage your wallet, Message signature")])]),e._v(" "),s("tr",[s("td",[e._v("venus")]),e._v(" "),s("td",[e._v("<IP3>")]),e._v(" "),s("td",[e._v("Shared")]),e._v(" "),s("td",[e._v("chain Sync")])]),e._v(" "),s("tr",[s("td",[e._v("venus-messager")]),e._v(" "),s("td",[e._v("<IP4>")]),e._v(" "),s("td",[e._v("Shared")]),e._v(" "),s("td",[e._v("Manage the message in the cluster, ensure the message on the chain, control the message flow, and try again. It can dock multiple wallets and manage messages for these wallets")])]),e._v(" "),s("tr",[s("td",[e._v("venus-miner")]),e._v(" "),s("td",[e._v("<IP5>")]),e._v(" "),s("td",[e._v("Shared")]),e._v(" "),s("td",[e._v("Package the block message; Multiple miners can be configured; It can calculate the miner's minning situation by itself, and obtain data proof through remote access to venus-sealer")])]),e._v(" "),s("tr",[s("td",[e._v("venus-sealer")]),e._v(" "),s("td",[e._v("<IP6>")]),e._v(" "),s("td",[e._v("Unshared")]),e._v(" "),s("td",[e._v("Sector FSM management; power growth scheduling; power maintenance")])]),e._v(" "),s("tr",[s("td",[e._v("venus-worker")]),e._v(" "),s("td",[e._v("<IP7>")]),e._v(" "),s("td",[e._v("Unshared")]),e._v(" "),s("td",[e._v("Data seal (execution of P1,P2,C1,C2, etc.)")])])])]),e._v(" "),s("h3",{attrs:{id:"moduler-of-lotus-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#moduler-of-lotus-cluster"}},[e._v("#")]),e._v(" Moduler of Lotus cluster")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Moduler")]),e._v(" "),s("th",[e._v("Server")]),e._v(" "),s("th",[e._v("Type")]),e._v(" "),s("th",[e._v("Do")]),e._v(" "),s("th",[e._v("Moduler corresponding to Venus")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("lotus")]),e._v(" "),s("td",[e._v("<IP1>")]),e._v(" "),s("td",[e._v("shared")]),e._v(" "),s("td",[e._v("Chain sync; Message pool; Wallet management, data signature, etc")]),e._v(" "),s("td",[e._v("venus; Some functions of venus-messenger; Some functions of venus-wallet")])]),e._v(" "),s("tr",[s("td",[e._v("lotus-miner")]),e._v(" "),s("td",[e._v("<IP2>")]),e._v(" "),s("td",[e._v("Unshared")]),e._v(" "),s("td",[e._v("Sector FSM management; power growth scheduling; power maintenance; WinCount")]),e._v(" "),s("td",[e._v("Some functions of venus-miner; venus-sealer")])]),e._v(" "),s("tr",[s("td",[e._v("lotus-worker")]),e._v(" "),s("td",[e._v("<IP3>")]),e._v(" "),s("td",[e._v("Unshared")]),e._v(" "),s("td",[e._v("Data seal (execution of P1,P2,C1,C2, etc.)")]),e._v(" "),s("td",[e._v("venus-worker")])])])]),e._v(" "),s("p",[e._v("venus-wallet makes more refined management of wallets, such as authority management: users can specify the data types that wallets can sign, administrators can lock a wallet, restrict signatures, etc;")]),e._v(" "),s("p",[e._v("venus-message allows messages to allocate a Nonce value when sending to the message pool, specifying priority for different messages, and can better control the packed rhythm of the message.")]),e._v(" "),s("p",[e._v("venus-miner concentrates the wincount of multiple miners into one moduler, while Lotus can only be responsible for the wincount of one miner.")]),e._v(" "),s("h2",{attrs:{id:"lotus-cluster-replaced-by-venus-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lotus-cluster-replaced-by-venus-cluster"}},[e._v("#")]),e._v(" Lotus cluster replaced by Venus cluster")]),e._v(" "),s("h3",{attrs:{id:"_1-explain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-explain"}},[e._v("#")]),e._v(" 1.Explain")]),e._v(" "),s("p",[e._v("Venus has more advantages in managing multiple clusters, and its shared moduler can serve multiple clusters. If there are few clusters, it is not recommended to build a whole set of shared moduler. You can combine multiple clusters to share a set of Venus shared moduler to meet the service requirements.")]),e._v(" "),s("h3",{attrs:{id:"_2-operation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-operation"}},[e._v("#")]),e._v(" 2.Operation")]),e._v(" "),s("h4",{attrs:{id:"_1-replacing-lotus-moduler-with-venus-shared-moduler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-replacing-lotus-moduler-with-venus-shared-moduler"}},[e._v("#")]),e._v(" 1）Replacing Lotus moduler with Venus shared moduler")]),e._v(" "),s("p",[e._v("The shared moduler of the Venus service include: "),s("a",{attrs:{href:"https://github.com/filecoin-project/venus",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus"),s("OutboundLink")],1),e._v("、"),s("a",{attrs:{href:"https://github.com/filecoin-project/venus-messager",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-messager"),s("OutboundLink")],1),e._v("、"),s("a",{attrs:{href:"https://github.com/filecoin-project/venus-auth",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-auth"),s("OutboundLink")],1),e._v("、"),s("a",{attrs:{href:"https://github.com/filecoin-project/venus-wallet",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-wallet"),s("OutboundLink")],1),e._v("、"),s("a",{attrs:{href:"https://github.com/filecoin-project/venus-miner",target:"_blank",rel:"noopener noreferrer"}},[e._v("venus-miner"),s("OutboundLink")],1),e._v("，Please refer to the deployment process: "),s("RouterLink",{attrs:{to:"/guide/How-To-Deploy-MingPool.html"}},[e._v("How-To-Deploy-MingPool")]),e._v("。")],1),e._v(" "),s("h4",{attrs:{id:"_2-replacing-lotus-moduler-with-venus-independent-moduler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-replacing-lotus-moduler-with-venus-independent-moduler"}},[e._v("#")]),e._v(" 2）Replacing Lotus moduler with Venus independent moduler")]),e._v(" "),s("h5",{attrs:{id:"scheme-1-customized-lotus-miner-component-replacement-1-replace-the-public-version-of-lotus-miner-moduler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scheme-1-customized-lotus-miner-component-replacement-1-replace-the-public-version-of-lotus-miner-moduler"}},[e._v("#")]),e._v(" Scheme 1: customized lotus miner component replacement 1: Replace the public version of lotus-miner moduler")]),e._v(" "),s("ul",[s("li",[e._v("Stop generating new section seal tasks and wait for all in progress section tasks to complete;")]),e._v(" "),s("li",[e._v("Replace lotus-miner with venus-sealer and restart the service. For deployment of venus-sealer, please refer to "),s("RouterLink",{attrs:{to:"/guide/How-To-Deploy-MingPool.html"}},[e._v("How-To-Deploy-MingPool")]),e._v("。")],1)]),e._v(" "),s("p",[e._v("Lotus cluster process before replacement\n"),s("img",{attrs:{src:"/lotus-cluster-1.png",alt:"lotus-cluster-1"}})]),e._v(" "),s("p",[e._v("Venus cluster process after replacement\n"),s("img",{attrs:{src:"/venus-replace-lotus-cluster-1.png",alt:"venus-replace-lotus-cluster-1"}})]),e._v(" "),s("h5",{attrs:{id:"scheme-2-customized-lotus-miner-moduler-replacement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scheme-2-customized-lotus-miner-moduler-replacement"}},[e._v("#")]),e._v(" Scheme 2: customized lotus-miner moduler replacement")]),e._v(" "),s("p",[e._v("Because of the fact that the miners have modified the lotus-miner code, if they want to continue to use it, they need to make the following adjustments to lotus-miner:")]),e._v(" "),s("ul",[s("li",[e._v("Don't enable winningpost program of lotus-poster, which needs to change the code;")]),e._v(" "),s("li",[e._v("The conversion of existing sector data, This needs to be developed;")]),e._v(" "),s("li",[e._v("lotus-miner connects with venus-messager, which needs to be developed;")]),e._v(" "),s("li",[e._v("Miners can develop related tools by themselves, or wait for Venus developers to launch related tools and developer documents.")])]),e._v(" "),s("p",[e._v("Lotus cluster process before replacement\n"),s("img",{attrs:{src:"/lotus-cluster-2.png",alt:"lotus-cluster-2"}})]),e._v(" "),s("p",[e._v("Venus cluster process after replacement\n"),s("img",{attrs:{src:"/venus-replace-lotus-cluster-2.png",alt:"venus-replace-lotus-cluster-2"}})])])}),[],!1,null,null,null);t.default=o.exports}}]);